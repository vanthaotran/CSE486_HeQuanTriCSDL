/*khoa ngoai CHITIETDATHANG (MAHANG) -> MATHANG (MAHANG)*/
ALTER TABLE CHITIETDATHANG
ADD CONSTRAINT fk_htk_MAHANG
	FOREIGN KEY (MAHANG)
	REFERENCES MAHANG(MAHANG)

/*khoa ngoai MAHANG (MALOAIHANG) -> LOAIHANG (MALOAIHANG)
em viết thiếu chữ T ở bảng mặt hàng ạ!
*/
ALTER TABLE MAHANG 
ADD CONSTRAINT fk_htk_MALOAIHANG
	FOREIGN KEY (MALOAIHANG)
	REFERENCES LOAIHANG(MALOAIHANG)

/*khoa ngoai MATHANG (MACONGTY) -> NHACUNGCAP (MACONGTY)*/
ALTER TABLE MAHANG
ADD CONSTRAINT fk_htk_MACONGTY
	FOREIGN KEY (MACONGTY)
	REFERENCES NHACUNGCAP(MACONGTY)

/*bai1_tao view_MatHang
tạo view_MatHang(MaHang, TenHang, MaCongTy,
TenCongTyCungCap, MaLoaiHang, TenLoaiHang, SoLuong, DonViTinh,
GiaHang)
*/
CREATE VIEW view_MatHang
AS
	SELECT MAHANG.MAHANG, MAHANG.TENHANG, MAHANG.MACONGTY, NHACUNGCAP.TENCONGTY, 
	MAHANG.MALOAIHANG, LOAIHANG.TENLOAIHANG, MAHANG.SOLUONG, MAHANG.DONVITINH,
	MAHANG.GIAHANG
	FROM MAHANG, NHACUNGCAP, LOAIHANG
	WHERE MAHANG.MALOAIHANG = LOAIHANG.MALOAIHANG AND 
	MAHANG.MACONGTY = NHACUNGCAP.MACONGTY

/*bai2_tao view_MatHang
Tạo view View_DonDatHang (SoHoaDon, MaKhachHang,
TenCongTyKhachHang, HoVaTenNhanVien, NgayDatHang, NgayGiaoHang,
NgayChuyenHang, NoiGiaoHang, MaHang, TenHang, SoLuong, GiaBan,
MucGiamGia)
*/
CREATE VIEW view_DonDatHang 
AS
	SELECT DONDATHANG.SOHOADON, DONDATHANG.MAKHACHHANG, KHACHHANG.TENCONGTY, NHANVIEN.HO, NHANVIEN.TEN, 
	DONDATHANG.NGAYDATHANG, DONDATHANG.NGAYGIAOHANG, DONDATHANG.NGAYCHUYENHANG, DONDATHANG.NOIGIAOHANG, 
	MAHANG.MAHANG, MAHANG.TENHANG, CHITIETDATHANG.GIABAN, CHITIETDATHANG.MUCGIAMGIA
	FROM DONDATHANG, KHACHHANG, NHANVIEN, MAHANG, CHITIETDATHANG
	WHERE DONDATHANG.MAKHACHHANG = KHACHHANG.MAKHACHHANG AND NHANVIEN.MANHANVIEN = DONDATHANG.MANHANVIEN
	AND CHITIETDATHANG.MAHANG = MAHANG.MAHANG


